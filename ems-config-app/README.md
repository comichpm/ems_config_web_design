# EMS智能配置系统 - 风光柴储充一体化

傻瓜式EMS现场工程配置Web原型，让任何人都能轻松完成复杂的EMS系统配置。

## 功能特点

### 🎯 傻瓜式引导配置
- **分步引导**：每个流程拆分为线性步骤，顶部进度条清晰提示当前位置
- **极简操作**：每页仅展示1-2个核心任务，避免信息过载
- **自动填充**：所有配置项默认填充物模型/行业标准值，支持微调
- **即时反馈**：配置错误、校验结果实时提示，无需跳转页面

### 📦 物模型管理
支持风光柴储充完整设备类型：
- **风力发电**：风机、风机控制器、变流器
- **光伏发电**：光伏组串、逆变器、汇流箱
- **柴油发电**：柴油机组、ATS切换开关
- **储能系统**：电池簇、BMS、PCS
- **充电桩**：交流桩、直流桩、充电模块
- **其他设备**：电表、配电柜、变压器、EMS主控等

### 🔌 多协议支持
- Modbus RTU/TCP
- IEC 61850
- CAN总线
- DL/T 645-1997/2007
- IEC 104
- OPC DA/UA
- 私有协议

### ⚡ 算法策略配置
参考EMS核心算法设计说明书：
- **削峰填谷**：时段配置、充放电策略
- **需量控制**：阈值设置、响应时间
- **SOC管理**：充放电曲线、应急储备
- **功率控制**：斜坡率、功率因数

### 🔗 电气拓扑可视化
- 拖拽设备到画布
- 连线建立电气关系
- 自动布局算法
- 拓扑合法性校验

### 🌐 北向接口
- MQTT协议
- HTTP/REST API
- WebSocket
- IEC 104服务端
- Modbus TCP服务端

### 📋 配置管理
- 配置文件导出（JSON格式）
- 配置模板导入导出
- 多项目管理
- 预设行业模板

## 快速开始

### 安装依赖
```bash
cd ems-config-app
npm install
```

### 启动开发服务器
```bash
npm run dev
```

### 构建生产版本
```bash
npm run build
```

### 预览生产版本
```bash
npm run preview
```

## 项目结构

```
ems-config-app/
├── src/
│   ├── components/          # 可复用组件
│   │   ├── Header.jsx       # 顶部导航栏
│   │   └── Sidebar.jsx      # 侧边菜单
│   ├── pages/               # 页面组件
│   │   ├── Dashboard.jsx    # 系统概览
│   │   ├── DeviceModelWizard.jsx    # 物模型创建向导
│   │   ├── ProjectConfigWizard.jsx  # 现场配置向导
│   │   ├── ProjectList.jsx  # 项目列表
│   │   ├── DeviceModelList.jsx      # 物模型库
│   │   └── TemplateManager.jsx      # 模板管理
│   ├── data/                # 配置数据
│   │   └── deviceTypes.js   # 设备类型、协议、告警等数据
│   ├── styles/              # 样式文件
│   │   └── global.css       # 全局样式
│   ├── App.jsx              # 应用根组件
│   └── main.jsx             # 入口文件
├── public/                  # 静态资源
├── sample-config.json       # 示例配置文件
└── package.json
```

## 配置流程

### 物模型创建（5步）
1. **基础信息配置** - 设备分类、类型、厂商、型号
2. **设备属性配置** - 基础属性、算法参数（PID等）
3. **协议&通道配置** - 通信协议、点表选择、超时重发
4. **告警规则配置** - 告警类型、阈值、通知方式
5. **拓扑&虚拟点** - 设备关联、虚拟点公式

### 现场配置（5步）
1. **工程基础信息** - 项目名称、位置、负责人
2. **设备选择** - 从物模型库选择设备
3. **参数微调** - 现场差异化参数
4. **电气拓扑** - 拖拽连线配置
5. **算法&北向** - 策略配置、数据上报

## 配置文件示例

参见 `sample-config.json` 文件，包含完整的配置数据结构：
- 项目信息
- 设备配置
- 拓扑关系
- 算法策略
- 北向接口
- 告警规则
- 虚拟点

## 技术栈

- React 18
- Vite 6
- React Flow（拓扑画布）
- LocalStorage（数据持久化）

## 浏览器支持

- Chrome/Edge（推荐）
- Firefox
- Safari

## License

ISC
